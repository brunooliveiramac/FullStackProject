
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
       
 		<link rel="stylesheet" href="css/validador.css">
 		<link rel="stylesheet" href="css/efeitos.css">
   		<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
        <title>Validador</title>

        <!-- CSS -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:400,100,300,500">
 
      
</head>

 <div class="container">
			
			
			<div class="page-header">
				<h3>Validador</h3>
			</div>
			
			<body ng-controller="ValidadorController">
				  <h4>Upload</h4>
				  <button ngf-select="uploadFiles($files, $invalidFiles)" multiple
				          accept="image/*" ngf-max-height="1000" ngf-max-size="1MB">
				      Selecione</button>
				  <br><br>
				 <h4>Arquivos:</h4>
				  <ul>
				    <li ng-repeat="f in files" style="font:smaller">{{f.name}} {{f.$errorParam}}
				      <span class="progress" ng-show="f.progress >= 0">
				        <div style="width:{{f.progress}}%"  
				            ng-bind="f.progress + '%'"></div>
				      </span>
				    </li>
				    <li ng-repeat="f in errFiles" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}
				    </li> 
				  </ul>
				 <!--  {{errorMsg}} -->
			</body>
			
			<h5>Relatório</h5> 
	
			<div class="table-responsive">		
					<table class="table">
						<tr>
			   					<td>Total de erros:</td>
			   					<div class="pull-right">
				   					<td><strong>{{total}}</strong></td>
				   				</div>
		   				</tr> 
		   				
		   				<tr ng-show="tabelaserros.telefone_mask_erros != null">
		   						<td>Máscara de telefone inválida:</td>
			   					<div class="pull-right">
				   					<td>{{tabelaserros.telefone_mask_erros}}</td>
				   				</div>
		   				</tr> 
		   				
		   				<tr ng-show="tabelaserros.null_erros != null">
		   						<td>Campos que não podem ser nulos:</td>
			   					<div class="pull-right">
				   					<td>{{tabelaserros.null_erros}}</td>
				   				</div>
		   				 </tr> 
		   				 
		   				 <tr ng-show="tabelaserros.formato_embalagem != null && tabelaserros.formato_embalagem != 0">
		   						<td>Formato embalagem:</td>
			   					<div class="pull-right">
				   					<td>{{tabelaserros.formato_embalagem}}</td>
				   				</div>
		   				 </tr> 
		   				 
		   				 <tr ng-show="tabelaserros.codigo_virgula != null && tabelaserros.codigo_virgula != 0">
		   						<td>Código deve ser separado por vírgula:</td>
			   					<div class="pull-right">
				   					<td>{{tabelaserros.codigo_virgula}}</td>
				   				</div>
		   				 </tr>  
		   				 
		   				<tr ng-show="tabelaserros.tipo_prod_cli != null && tabelaserros.tipo_prod_cli != 0">
		   						<td>Tipo Cliente:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.tipo_prod_cli}}</td>
				   				</div>
		   				 </tr>  
		   				   
		   				 <tr ng-show="tabelaserros.prazo_min != null && tabelaserros.prazo_min != 0">
		   						<td>Prazo mínimo para o preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.prazo_min}}</td>
				   				</div>
		   				 </tr>  
		   				  
		   				 <tr ng-show="tabelaserros.politica_precos != null && tabelaserros.politica_precos != 0">
		   						<td>Política de Preços, preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.politica_precos}}</td>
				   				</div>
		   				 </tr>  
		   				 
		   				  <tr ng-show="tabelaserros.tipo_comissao != null && tabelaserros.tipo_comissao != 0">
		   						<td>Tipo de comissão gerada, preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.tipo_comissao}}</td>
				   				</div>
		   				 </tr>  
		   				 
		   				<tr ng-show="tabelaserros.limite_credito != null && tabelaserros.limite_credito != 0">
		   						<td>Limite de crédito, preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.limite_credito}}</td>
				   				</div>
		   				 </tr>  
		   				  
		   				  
		   				<tr ng-show="tabelaserros.tipo_pessoa != null && tabelaserros.tipo_pessoa != 0">
		   						<td>Tipo pessoa para calculos físcais, preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.tipo_pessoa}}</td>
				   				</div>
		   				 </tr>  
		   				 
		   				<tr ng-show="tabelaserros.estado_virgulo != null && tabelaserros.estado_virgulo != 0">
		   						<td>Estado deve ser separado por ponto e virgula (;). Preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.estado_virgula}}</td>
				   				</div>
		   				 </tr> 
		   				  
		   				 
		   				<tr ng-show="tabelaserros.sina != null && tabelaserros.sina  != 0">
		   						<td>Campo deve conter S ou N. Preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.sina}}</td>
				   				</div>
		   				 </tr>   
		   				 
		   				<tr ng-show="tabelaserros.frete != null && tabelaserros.frete  != 0">
		   						<td>Tipo frete inválido. Preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.frete}}</td>
				   				</div>
		   				 </tr>  
		   				  
		   				 	 
		   				<tr ng-show="tabelaserros.cep!= null && tabelaserros.cep != 0">
		   						<td>Tipo CEP inválido. Preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.cep}}</td>
				   				</div>
		   				 </tr>  
		   				 
		   				<tr ng-show="tabelaserros.cpf!= null && tabelaserros.cpf != 0">
		   						<td>Tipo CPF inválido. Preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.cpf}}</td>
				   				</div>
		   				 </tr>  
		   				 
		   				<tr ng-show="tabelaserros.cnpj!= null && tabelaserros.cnpj != 0">
		   						<td>Tipo CNPJ inválido. Preenchimento não aceito:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.cnpj}}</td> 
				   				</div>
		   				 </tr>   
		   				 
		   				 <tr ng-show="tabelaserros.dados_acima != null && tabelaserros.dados_acima != 0">
		   						<td>Dados acima do esperado:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.dados_acima}}</td> 
				   				</div>
		   				 </tr>  
		   				  
		   				  <tr ng-show="tabelaserros.dados_abaixo != null && tabelaserros.dados_abaixo != 0">
		   						<td>Dados abaixo do esperado:</td> 
			   		 			<div class="pull-right">
				   					<td>{{tabelaserros.dados_abaixo}}</td> 
				   				</div>
		   				 </tr>  
		   				 
					</table>
			</div>	
			
			<input ng-show="tabelaserros.list != null" ng-model="filter" style="margin-top: 20px; margin-bottom: 20px;" class="form-control" placeholder="Filtrar">
			
			
            <span ng-repeat="incorretas in tabelaserros.nomes_tabelas_incorretas track by $index">Nome da tabela incorreto: {{incorretas}} <br></span>
			
			<div  ng-animate="'animate'" style="margin-top: 10px; margin-left:5px" ng-repeat="tabelaserro in tabelaserros.list | filter:filter">
			
				 		 	
					<h3>{{tabelaserro.nome_tabela}}  {{tabelaserro.msg}}</h3>
					
						 <div class="table-responsive">
						 <tr>
						 	<td>Total de registros:</td>
				   			<td>{{tabelaserro.linhas.length}}</td>
						 </tr>
						 </div>
  
						<div ng-repeat="linha in tabelaserro.linhas | limitTo:quantity">
							 <strong style="margin-left:12px;">Linha:</strong> {{linha.num_linha}} {{linha.msg_linha}}
								
								<h5 ng-show="linha == null">Campos válidos!</h5>
								 
								<div ng-repeat="erro in linha.erros">
									<strong style="margin-left:26px">Campo:</strong> {{erro.campo_nome}} <strong> Conteúdo: </strong> {{erro.conteudo_campo}}<strong> Conteúdo esperado: </strong> {{erro.valor_esperado}} <strong> Comentário:</strong>{{erro.comentario_erro}} 
						 		</div> 
						</div> 			
			</div>
			
			 
			
			
			
</div>

		

 